"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ava_1 = require("ava");
const where_1 = require("../../../src/transforms/where");
const any_1 = require("../../../src/values/any");
ava_1.test('whereTransform()', t => {
    // Throws when options does not have 'expression'
    t.throws(() => {
        where_1.default('[number]', {});
    });
    // Throws when value type does not match input type
    t.throws(() => {
        where_1.default('number', { expression: { dep: '$element' } });
    });
    const section = where_1.default('[number]', {
        expression: {
            gt: [
                { dep: '$element' },
                { value: 18 }
            ]
        }
    });
    t.is(section.input_type, '[number]');
    t.is(section.output_type, '[number]');
    t.deepEqual(section.deps, []);
    t.truthy(section.transform(any_1.toValue([14, 24, 17, 32]), {})
        .equals(any_1.toValue([24, 32])));
});
//# sourceMappingURL=where_test.js.map