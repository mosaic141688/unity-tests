'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _avaThrowsHelperStart(t, assertion, file, line) {
    if (t._throwsArgStart) {
        t._throwsArgStart(assertion, file, line);
    }
}

function _avaThrowsHelperEnd(t, arg) {
    if (t._throwsArgEnd) {
        t._throwsArgEnd();
    }

    return arg;
}

var unity = require('@locational/unity');
const store = new unity.Store();

store.registerValue('number_value', unity.value(9));
store.registerValue('table', [{
    name: 'Sihle',
    surname: 'Mbhamali',
    age: 9
}, {
    name: 'John',
    surname: 'Smithi',
    age: 10
}]);

const config_a = {
    input: { value: [1, 2, 3] },
    pipeline: [{
        type: 'where',
        options: {
            expression: {
                gt: [{ dep: '$element' }, { dep: '@number_value' }]
            }
        }
    }]
};

(0, _ava2.default)('Store Register and lookup Value', t => {
    let actual = 9;
    let expected = store.lookupValue('number_value');
    t.deepEqual(actual, expected);
});

(0, _ava2.default)('Store lookup table', t => {
    let actual = [{
        name: 'Sihle',
        surname: 'Mbhamali',
        age: 9
    }, {
        name: 'John',
        surname: 'Smithi',
        age: 10
    }];
    let expected = store.lookupValue('table');
    t.deepEqual(actual, expected);
});

(0, _ava2.default)('Store Config', t => {
    store.registerConfig('config_a', config_a);

    store.registerConfig('u1', config_a);
    t.throws((_avaThrowsHelperStart(t, 'throws', '/home/sihle/Projects/locational/unity-tests/test/unity-tets.js', 67), _avaThrowsHelperEnd(t, () => store.run('u1'))));
});
//# sourceMappingURL=../node_modules/.cache/ava/441c2a509bb92267f39dfa1bae748b7b.js.map